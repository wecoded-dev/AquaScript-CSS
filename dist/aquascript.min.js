/* AquaScriptCSS v2.0 - Minified JS (core interactions, accessibility, effects) */

/*! Alerts: close interaction */
document.querySelectorAll('.aq-alert-close').forEach(function(btn){
  btn.addEventListener('click',function(){
    var alert=btn.closest('.aq-alert');
    alert.classList.add('closing');
    setTimeout(function(){alert.style.display='none';},400);
  });
});

/*! Modals: open/close interaction */
document.querySelectorAll('.aq-modal-close').forEach(function(btn){
  btn.addEventListener('click',function(){
    var modal=btn.closest('.aq-modal');
    modal.classList.remove('active');
  });
});
document.querySelectorAll('[data-modal-open]').forEach(function(trigger){
  trigger.addEventListener('click',function(){
    var id=trigger.getAttribute('data-modal-open');
    document.getElementById(id).classList.add('active');
  });
});

/*! Navbar toggle for mobile/tablet */
document.querySelectorAll('.aq-navbar-toggle').forEach(function(toggle){
  toggle.addEventListener('click',function(){
    var collapse=toggle.nextElementSibling;
    toggle.classList.toggle('active');
    if(collapse)collapse.classList.toggle('active');
  });
});

/*! Ripple effect for buttons and badges */
function rippleEffect(el){
  el.addEventListener('mousedown',function(e){
    var ripple=document.createElement('span');
    ripple.className='aq-ripple';
    ripple.style.left=e.offsetX+'px';
    ripple.style.top=e.offsetY+'px';
    el.appendChild(ripple);
    setTimeout(function(){ripple.remove();},600);
  });
}
document.querySelectorAll('.aq-btn.ripple,.aq-badge.ripple').forEach(rippleEffect);

/*! Form validation */
document.querySelectorAll('.aq-form-control').forEach(function(input){
  input.addEventListener('blur',function(){
    if(input.checkValidity()){
      input.classList.add('valid');input.classList.remove('invalid');
    }else{
      input.classList.add('invalid');input.classList.remove('valid');
    }
  });
});

/*! Accessibility: Esc closes modals */
document.addEventListener('keydown',function(e){
  if(e.key==='Escape'){
    document.querySelectorAll('.aq-modal.active').forEach(function(m){
      m.classList.remove('active');
    });
  }
});

/*! ...additional JS for dropdowns, progress bars, animations, etc... */
